<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AnyProfile</title>
</head>
<body>

<div>
    <div>Im - {{ user }}</div>
    <button onclick="location.href='{% url 'users-list' %}'">ВСЕ ЛЮДИ</button>
    <button onclick="location.href='{% url 'all-my-fr' %}'">ДРУЗЬЯ</button>
    <button onclick="location.href='{% url 'requests-fr' %}'">ЗАПРОСЫ В ДРУЗЬЯ</button>
    <button onclick="location.href='{% url 'my-chats' %}'">ЧАТЫ</button>
    <button onclick="location.href='{% url 'my-group-chats' %}'">ГРУППОВЫЕ ЧАТЫ</button>
    <button onclick="location.href='{% url 'requests-to-group-room' %}'">ПРИГЛАШЕНИЯ В ЧАТ</button>
    <button onclick="location.href='{% url 'login' %}'">АВТОРИЗАЦИЯ</button>
    <button onclick="location.href='{% url 'register' %}'">РЕГИСТАРЦИЯ</button>

</div>
<br>

Friend name - {{username_other}}

<form id="add-to-friend-form" method="post" action="{% url 'profile' username=username_other %}">
    {% csrf_token %}
    <button id="add-to-friend-btn">Добавить в друзья</button>
</form>

<input id="room-name-submit" type="button" value="Открыть чат">

{{ user.username|json_script:"username_my" }}  <!-- Добавлено имя пользователя -->
{{ username_other|json_script:"username_other" }}
{{ chat_number|json_script:"chat_number" }}

</body>

<script>
        const username_my = JSON.parse(document.getElementById('username_my').textContent);  // Получение имени пользователя
        const username_other = JSON.parse(document.getElementById('username_other').textContent);  // Получение имени пользователя
        const chat_number = JSON.parse(document.getElementById('chat_number').textContent);  // Получение имени пользователя

        console.log(username_my);
        console.log(username_other);
        console.log(chat_number);

<!--        document.querySelector('#room-name-input').focus();-->
<!--        document.querySelector('#room-name-input').onkeyup = function(e) {-->
<!--            if (e.key === 'Enter') {  // enter, return-->
<!--                document.querySelector('#room-name-submit').click();-->
<!--            }-->
<!--        };-->

        document.querySelector('#room-name-submit').onclick = function(e) {
<!--            var roomName = document.querySelector('#room-name-input').value;-->
            window.location.pathname = '/chat/' + chat_number + '/';
        };





</script>

</html>